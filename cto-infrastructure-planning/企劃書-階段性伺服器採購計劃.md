# 階段性伺服器採購計劃

**提報人：** CTO  
**提報日期：** 2024-12-25  
**審批對象：** CEO / CHRO(CFO)

---

## 一、執行摘要

### 1.1 現況與目標

公司現有地端基礎設施已達資源上限，無法支撐 2025 年 1 月賽事專案上線及後續業務擴展。本計劃提出三種方案供決策參考，建議採用階段性投資建立 **4 台企業級伺服器的完整架構**。

### 1.2 為什麼需要 4 台伺服器

| 需求 | 說明 | 無法達成的後果 |
|------|------|---------------|
| **多節點高可用** | 至少 3 節點才能容忍 1 台故障，4 台更穩健 | 單點故障導致業務中斷 |
| **未來生產環境** | 直播白產的 prd 環境也要放地端 | 無法支撐生產業務 |
| **架構統一** | 全部統一為企業級架構 | 持續碎片化，測試不準 |
| **基礎設施完整** | VPN、網路閘道、資安設備需獨立運行 | 安全性與管理便利性差 |
| **容量預留** | 預留 40% 資源供未來擴展 | 業務增長即卡住 |

**結論：** 4 台是支撐三條產品線（Video、賽事、直播）完整生命週期（dev/stg/prd）的最小配置。

### 1.3 決策急迫性

| 項目 | 說明 |
|------|------|
| **緊急程度** | P0 級別，賽事 1 月中必須上線 |
| **現有資源** | 3 台 Mac mini + 數台 PC，已飽和 |
| **決策時限** | 12月28日前 |
| **影響範圍** | Video、賽事、直播三條產品線 |

---

## 二、方案總覽與比較

### 2.1 三種方案說明

**方案 0：維持現狀（低成本高風險）**

繼續使用現有 Mac mini 與 PC 機器，或小規模採購消費級設備。短期投資最低，但會嚴重影響開發效率與業務交付能力，無法達成 4 台統一架構目標。

**方案 A：保守漸進（雲端過渡）**

採用「地端逐步擴充 + 雲端彈性補充」混合策略。首次投資 45-50 萬元（1 台伺服器 + 雲端資源），12 個月內分四階段完成 4 台地端伺服器部署，總投資 184-196 萬元。

**方案 B：穩健成長（地端優先）**

採用「先建立基礎，按需擴充」策略。首次投資 80-100 萬元同時採購 2 台伺服器，立即建立基礎高可用架構，9 個月內完成 4 台部署，總投資 167-169 萬元。

### 2.2 方案對比總表

| 比較項目 | 方案 0（維持現狀）| 方案 A（保守漸進）| 方案 B（穩健成長）|
|---------|-----------------|-----------------|-----------------|
| **最終架構** | 碎片化（Mac/Win混雜）| 4台統一架構 | 4台統一架構 |
| **高可用能力** | 無 | 完整（4節點）| 完整（4節點）|
| **12個月總投資** | 0-20萬 | 184-196萬 | 167-169萬 |
| **首次投資** | 0萬 | 45-50萬 | 80-100萬 |
| **完成時程** | 永遠無法完成 | 12個月 | 9個月 |
| **現金流壓力** | 無 | 低 | 中 |
| **技術複雜度** | 高（碎片化）| 高（混合雲）| 低（統一架構）|
| **開發效率影響** | -40% | +20% | +40% |
| **賽事上線風險** | 極高 | 低 | 極低 |
| **生產環境支援** | 無法支援 | 可完整支援 | 可完整支援 |

### 2.3 成本效益分析

**短期成本（0-6個月）**

| 方案 | 硬體投資 | 雲端費用 | 隱性成本 | 總計 |
|------|---------|---------|---------|------|
| 方案 0 | 0-20萬 | 0 | 業務延遲 + 維運人力消耗 + 效率損失 30%+ | 難以量化（預估 > 50萬）|
| 方案 A | 85-90萬 | 12-18萬 | - | 97-108萬 |
| 方案 B | 120-140萬 | 3-4萬 | - | 123-144萬 |

**長期成本（12個月）**

| 方案 | 硬體投資 | 雲端費用 | 隱性成本 | 總計 |
|------|---------|---------|---------|------|
| 方案 0 | 0-20萬 | 0 | 維運救火 + 環境調整 + 開發延遲 + 技術債 + 業務風險 | 預估損失 > 100萬 |
| 方案 A | 160萬 | 24-36萬 | - | 184-196萬 |
| 方案 B | 160萬 | 7-9萬 | - | 167-169萬 |

**投資回收點**

| 方案 | 何時開始省錢 | 說明 |
|------|------------|------|
| 方案 A | 18-24個月 | 相較方案 0 避免的損失開始超過投資 |
| 方案 B | 12-18個月 | 相較方案 0 避免的損失開始超過投資，比方案 A 快 6 個月 |

### 2.4 不同規模的風險評估

**方案 0：維持現狀的風險**

| 風險類別 | 發生機率 | 影響程度 | 具體後果 |
|---------|---------|---------|---------|
| **賽事無法如期上線** | 極高 | 嚴重 | 業務承諾違約，商譽受損 |
| **開發效率持續下降** | 確定 | 嚴重 | 迭代週期延長 50%+，競爭力下降 |
| **永遠無法統一架構** | 確定 | 嚴重 | 測試不準，生產問題頻發 |
| **無法支援生產環境** | 確定 | 嚴重 | 直播白產無法上線 |
| **維運人力持續消耗** | 確定 | 嚴重 | 重複調整環境、救火式處理，無暇改進 |
| **環境變動影響團隊** | 高 | 嚴重 | 環境不穩定，開發被打斷，效率降低 30%+ |
| **資安與管理混亂** | 高 | 中 | VPN、防火牆無法妥善部署 |
| **團隊士氣下降** | 高 | 中 | 環境差導致挫折感，人員流失風險 |

**方案 A：保守漸進的風險**

| 風險類別 | 發生機率 | 影響程度 | 具體後果 |
|---------|---------|---------|---------|
| **雲端合規問題** | 中 | 中 | 部分服務需調整部署策略 |
| **混合雲管理複雜** | 高 | 中 | 需要學習成本，初期運維壓力 |
| **雲端成本超支** | 中 | 低 | 月度監控可控制 |
| **時程較長** | 確定 | 低 | 12個月完成，但業務可正常運行 |

**方案 B：穩健成長的風險**

| 風險類別 | 發生機率 | 影響程度 | 具體後果 |
|---------|---------|---------|---------|
| **初期預算不批准** | 中 | 高 | 可改採方案 A 或分期付款 |
| **設備延遲交貨** | 中 | 中 | 提前下單可緩解 |
| **業務不如預期** | 低 | 中 | 觸發式採購可延後第 3、4 台 |

---

## 三、方案 0：維持現狀分析

### 3.1 為什麼無法達成目標

**無法實現高可用架構**
- Mac mini 與 PC 混雜，無法統一管理
- 消費級設備不支援企業級高可用配置
- 架構碎片化導致故障域無法有效隔離

**無法支援生產環境**
- 資源完全不足，dev/stg 已飽和
- 直播白產的 prd 環境無處部署
- 無法提供生產級穩定性保障

**架構統一無法實現**
- Mac mini 與 PC 持續混用，架構不一致
- dev/stg 測試結果無法反映生產環境
- 問題到生產環境才發現，風險極高

**基礎設施不完整**
- VPN Server 無獨立資源運行
- 網路閘道與資安設備無法妥善配置
- 管理複雜度高，安全性差

**人力成本持續浪費**
- 維運人員重複調整環境配置
- 救火式處理問題，無暇系統性改進
- 環境變動導致開發團隊效率降低
- 重複性工作占比過高，團隊成長受限

### 3.2 短期內會遇到的問題

**1-2月（立即問題）**

- 賽事專案無資源可部署，必須與 Video 搶資源
- 測試環境不足，驗收品質無法保證
- GitLab 持續因資源不足被關閉
- 維運人員持續調整環境分配，無暇改進
- 環境不穩定導致開發被打斷，效率降低
- 開發人員頻繁等待環境，士氣受影響

**3-6月（問題惡化）**

- 直播專案完全無空間部署
- 架構碎片化問題累積，生產問題頻發
- 維運團隊疲於救火，人力時間嚴重浪費
- 環境變動頻繁，團隊效率下降 30% 以上
- 開發週期延長 50% 以上
- 無法開始規劃生產環境

**6-12月（業務停滯）**

- 無法支撐任何新業務
- 直播白產無法進入生產階段
- 維運成本持續攀升，但問題無法解決
- 團隊疲憊，重複性工作占比過高
- 技術債務累積，重構成本倍增
- 可能面臨人員流失

### 3.3 低成本替代方案的問題

**繼續採購 Mac mini（2-3萬/台）**

- 非伺服器級設備，無法達成 4 台統一架構
- 維持架構碎片化
- 無企業級高可用能力
- 無法支援 VPN、網路閘道等基礎設施

**採購消費級 PC（3-5萬/台）**

- 同樣無法達成統一架構目標
- 缺乏企業級保固與支援
- 無高可用與資安能力
- 長期總成本反而更高

**結論：** 低成本方案無法達成 4 台統一架構的核心目標，只是延遲問題，不是解決方案。

---

## 四、方案 A：保守漸進方案

### 4.1 執行階段（達成 4 台統一架構）

| 階段 | 時間 | 投資 | 累計 | 目標 | 架構進度 |
|------|------|------|------|------|---------|
| Phase 1 | 1-2月 | 45-50萬 | 45-50萬 | 1台+雲端，賽事上線 | 1/4 |
| Phase 2 | 3-5月 | 40萬 | 85-90萬 | 2台，基礎HA | 2/4 |
| Phase 3 | 6-8月 | 40萬 | 125-130萬 | 3台，擴展容量 | 3/4 |
| Phase 4 | 9-12月 | 40萬 | 165-170萬 | 4台，完整HA，統一架構 | 4/4 完成 |

### 4.2 時程甘特圖

| 階段/里程碑 | 1月 | 2月 | 3月 | 4月 | 5月 | 6月 | 7月 | 8月 | 9月 | 10月 | 11月 | 12月 |
|-----------|-----|-----|-----|-----|-----|-----|-----|-----|-----|------|------|------|
| **Phase 1（採購+部署）** | ████ | ████ | | | | | | | | | | |
| 賽事上線 ⭐ | | ▲ | | | | | | | | | | |
| **Phase 2（擴充）** | | | ▓▓▓▓ | ▓▓▓▓ | ▓▓▓▓ | | | | | | | |
| **Phase 3（再擴充）** | | | | | | ▒▒▒▒ | ▒▒▒▒ | ▒▒▒▒ | | | | |
| 直播dev ⭐ | | | | | | ▲ | | | | | | |
| **Phase 4（完成）** | | | | | | | | | ░░░░ | ░░░░ | ░░░░ | ░░░░ |
| 4台完成 🎯 | | | | | | | | | | | ▲ | |
| 架構統一 🎯 | | | | | | | | | | | ▲ | |

**圖例說明：**
- ████ Phase 1（首台+雲端）
- ▓▓▓▓ Phase 2（第2台）
- ▒▒▒▒ Phase 3（第3台）
- ░░░░ Phase 4（第4台）
- ⭐ 業務里程碑
- 🎯 完成目標

### 4.3 達成目標說明

- **Phase 4 完成時** - 實現 4 台企業級伺服器統一架構
- **高可用架構** - 4 節點可容忍 1 台故障
- **生產環境支援** - 可部署直播白產 prd 環境
- **基礎設施** - VPN、網路閘道獨立運行
- **架構統一** - 全部企業級伺服器，測試準確

---

## 五、方案 B：穩健成長方案（推薦）

### 5.1 執行階段（達成 4 台統一架構）

| 階段 | 時間 | 投資 | 累計 | 目標 | 架構進度 | 觸發條件 |
|------|------|------|------|------|---------|---------|
| Phase 1 | 1-2月 | 80-100萬 | 80-100萬 | 2台，基礎HA | 2/4 | - |
| Phase 2 | 3-5月 | 40萬 | 120-140萬 | 3台，擴展 | 3/4 | 直播上線 |
| Phase 3 | 6-9月 | 40萬 | 160-180萬 | 4台，完整HA，統一架構 | 4/4 完成 | 業務增長或生產需求 |

### 5.2 時程甘特圖

| 階段/里程碑 | 1月 | 2月 | 3月 | 4月 | 5月 | 6月 | 7月 | 8月 | 9月 |
|-----------|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| **Phase 1（2台到位）** | ████ | ████ | | | | | | | |
| 賽事上線 ⭐ | | ▲ | | | | | | | |
| 基礎HA ✓ | | ▲ | | | | | | | |
| **Phase 2（第3台）** | | | ▓▓▓▓ | ▓▓▓▓ | | | | | |
| 直播dev ⭐ | | | | ▲ | | | | | |
| **Phase 3（第4台+完成）** | | | | | ▒▒▒▒ | ▒▒▒▒ | ▒▒▒▒ | ▒▒▒▒ | |
| 4台完成 🎯 | | | | | | | | | ▲ |
| 架構統一 🎯 | | | | | | | | | ▲ |
| 生產就緒 🎯 | | | | | | | | | ▲ |

**圖例說明：**
- ████ Phase 1（首批2台，建立基礎HA）
- ▓▓▓▓ Phase 2（第3台，擴展容量）
- ▒▒▒▒ Phase 3（第4台，完整架構）
- ⭐ 業務里程碑
- 🎯 完成目標
- ✓ 技術里程碑

### 5.3 達成目標說明

- **Phase 1 完成時** - 已有基礎高可用（2 台）
- **Phase 3 完成時** - 實現 4 台完整高可用架構
- **生產環境支援** - 可部署直播白產 prd 環境
- **基礎設施完整** - VPN、網路閘道、資安設備獨立運行
- **架構完全統一** - 全部企業級伺服器

**相較方案 A 的優勢：**
- 時程快 3 個月（9個月 vs 12個月）
- 第 1 階段即有基礎高可用
- 架構單純，無混合雲複雜度
- 長期成本低 17-27 萬元

---

## 六、綜合評估與建議

### 6.1 方案評估結論

經技術團隊與財務部門綜合評估，**建議採用方案 B（穩健成長）**作為最佳解決方案。

### 6.2 推薦理由

**方案 B 的核心優勢：**

1. **投資效益最優** - 總成本 167-169 萬，比方案 A 低 17-27 萬元，比方案 0 的長期損失節省超過 100 萬
2. **時程最短** - 9 個月完成 4 台統一架構，比方案 A 快 3 個月
3. **風險最可控** - 純地端架構單純，技術複雜度低，運維風險小
4. **高可用最早實現** - 第 1 階段即有 2 台基礎高可用，比方案 A 更早建立保障
5. **生產環境完整支援** - 可完整支撐直播白產 prd 環境上線
6. **基礎設施完善** - VPN、網路閘道、資安設備可獨立運行
7. **避免人力浪費** - 統一架構減少維運救火時間，團隊可專注改進

**方案 A 的局限：**
- 雖然首次投資較低（45-50 萬），但總成本更高且時程較長
- 混合雲架構增加技術複雜度，需要額外學習與管理成本
- 雲端月費持續支出，12 個月累計多花 17-27 萬元

**方案 0 的嚴重問題：**
- 無法達成 4 台統一架構的核心目標
- 維運人力持續浪費在救火與重複調整
- 環境不穩定導致團隊效率降低 30% 以上
- 長期損失（人力成本 + 機會成本）超過 100 萬元
- **強烈不建議採用**

### 6.3 執行建議

**立即執行事項：**

1. **批准方案 B 預算** - 首次投資 80-100 萬元（2 台伺服器）
2. **授權 CTO 啟動採購** - 12月31日前完成下單
3. **配合執行技術調整** - 同步批准《團隊技術調整規劃》

**關鍵時間點：**

| 日期 | 事項 | 重要性 |
|------|------|--------|
| 12月28日前 | 完成預算批准 | 關鍵 |
| 12月31日 | 完成採購下單 | 關鍵 |
| 1月20日 | 設備到位部署 | 重要 |
| 1月15日 | 賽事如期上線 | 關鍵 |
| 9月底 | 4 台統一架構完成 | 目標 |

### 6.4 預期成果

執行方案 B 後，預期達成以下成果：

- **短期（1-2月）** - 2 台伺服器到位，賽事順利上線，基礎高可用建立
- **中期（3-5月）** - 3 台完成，直播專案可部署，資源充足
- **長期（6-9月）** - 4 台統一架構完成，生產環境就緒，基礎設施完善
- **持續效益** - 維運效率提升，團隊不再疲於救火，可專注技術改進與業務創新

---

## 附件

### 附件 A：4 台架構的完整配置

**硬體配置（每台）**

| 規格項目 | 配置 |
|---------|------|
| **品牌型號** | Dell PowerEdge R750 / HP ProLiant DL380 Gen10 Plus |
| **CPU** | Intel Xeon Gold 6338 (32C/64T) × 2 = 64 cores |
| **RAM** | 256GB DDR4 ECC |
| **儲存** | 系統：2×960GB SSD RAID1 / 數據：8×3.84TB SSD RAID10 |
| **網路** | 雙 10Gbps 冗餘 |
| **電源** | 雙 1400W 熱插拔 |
| **保固** | 3年原廠 7×24 |
| **單價** | 40 萬 TWD |

**4 台總資源容量**
- CPU: 256 cores
- Memory: 1024 GB
- Storage: 61.44 TB

**資源分配規劃**

| 用途 | CPU | Memory | Storage | 說明 |
|------|-----|--------|---------|------|
| Video（dev/stg/prd）| 40-60 cores | 80-120 GB | 8-12 TB | 三條產品線 |
| 賽事（dev/stg/prd）| 30-45 cores | 60-90 GB | 6-9 TB | 完整生命週期 |
| 直播（dev/stg/prd）| 40-60 cores | 80-120 GB | 8-12 TB | 含白產生產 |
| 基礎設施 | 20-30 cores | 40-60 GB | 3-5 TB | VPN/網路/監控 |
| K8s overhead | 15-20 cores | 30-40 GB | 2-3 TB | 系統保留 |
| 預留未來 | 60-80 cores | 120-160 GB | 20-30 TB | 擴展空間 |
| **總計** | 205-295 cores | 410-590 GB | 47-71 TB | 利用率 60-80% |

### 附件 B：高可用架構說明

**為什麼需要 4 台（而非 2 台或 3 台）**

| 節點數 | 高可用能力 | 生產環境支援 | 架構統一 | 基礎設施 | 結論 |
|-------|-----------|------------|---------|---------|------|
| 1-2台 | 無或基礎HA | 不足 | 可統一 | 資源不足 | 不適合 |
| 3台 | 可容忍1台故障 | 勉強 | 可統一 | 資源緊張 | 最小配置 |
| 4台 | 可容忍1台故障 | 完整 | 完全統一 | 完整獨立 | **推薦** |
| 5台+ | 過度投資 | 過度 | 統一 | 完整 | 未來擴展 |

**4 台架構的核心優勢**

1. **高可用保障** - 4 節點部署，可容忍 1 台故障，服務不中斷
2. **生產環境完整支援** - dev/stg/prd 三環境完整部署
3. **資源充足** - 預留 40% 資源供未來業務增長
4. **基礎設施獨立** - VPN、網路閘道、防火牆、監控獨立運行
5. **架構完全統一** - 全部企業級伺服器，測試結果準確
