â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ…âœ…âœ… VPN ä¼ºæœå™¨è¨­ç½®å®Œæˆ âœ…âœ…âœ…
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ è¨­ç½®æ‘˜è¦

1. âœ… dnsmasq DNS ä¼ºæœå™¨
   - IP: 172.25.0.2
   - åŸŸåè§£æ: test.dev â†’ 119.8.53.204
   - Web GUI: http://localhost:5380

2. âœ… Pritunl VPN ä¼ºæœå™¨
   - ç‹€æ…‹: Online
   - ç«¯å£: 11009/udp
   - è™›æ“¬ç¶²çµ¡: 192.168.219.0/24
   - DNS Server: 172.25.0.2 (æŒ‡å‘ dnsmasq)
   - Web GUI: https://localhost:9700

3. âœ… è·¯ç”±è¨­å®š
   - 0.0.0.0/0 (å…¨æµé‡)
   - 192.168.219.0/24 (è™›æ“¬ç¶²çµ¡)
   - 119.8.53.204/32 (æ¸¬è©¦ç›®æ¨™)
   - 172.25.0.2/32 (DNS Server)

4. âœ… ç”¨æˆ¶å·²å‰µå»º
   - çµ„ç¹”: test
   - ç”¨æˆ¶: test
   - é…ç½®æ–‡ä»¶å·²ä¸‹è¼‰: ~/Downloads/*.tar

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª æ¸¬è©¦ VPN é€£æ¥

## æ­¥é©Ÿ 1ï¼šå®‰è£ OpenVPN å®¢æˆ¶ç«¯

**Mac:**
```bash
brew install --cask tunnelblick
# æˆ–
brew install openvpn
```

**Tunnelblick (æ¨è–¦ Mac ç”¨æˆ¶):**
- ä¸‹è¼‰: https://tunnelblick.net/downloads.html
- é›™æ“Š .ovpn æ–‡ä»¶å°å…¥é…ç½®

**å‘½ä»¤è¡Œæ–¹å¼:**
```bash
cd ~/Downloads
# è§£å£“é…ç½®æ–‡ä»¶ (å¦‚æœå°šæœªè§£å£“)
tar -xf *.tar

# é€£æ¥ VPN (éœ€è¦ root æ¬Šé™)
sudo openvpn --config Test-VPN-Server_test.ovpn
```

## æ­¥é©Ÿ 2ï¼šæ¸¬è©¦ DNS è§£æ

**é€£æ¥ VPN å¾Œï¼Œæ¸¬è©¦ DNS:**
```bash
# æ¸¬è©¦è‡ªè¨‚åŸŸåè§£æ
nslookup test.dev
# æ‡‰è©²è¿”å›: 119.8.53.204

ping test.dev
# æ‡‰è©²èƒ½ ping é€š 119.8.53.204
```

## æ­¥é©Ÿ 3ï¼šé©—è­‰ VPN é€£æ¥

```bash
# æª¢æŸ¥ IP åœ°å€
ifconfig | grep 192.168.219
# æ‡‰è©²çœ‹åˆ° VPN è™›æ“¬ç¶²å¡ï¼ŒIP åœ¨ 192.168.219.x ç¯„åœå…§

# æª¢æŸ¥ DNS è¨­å®š
scutil --dns | grep 172.25.0.2
# æ‡‰è©²çœ‹åˆ° DNS Server ç‚º 172.25.0.2

# æ¸¬è©¦é€£æ¥åˆ° VPN Server
ping 192.168.219.1
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ é…ç½®ç®¡ç†

## æŸ¥çœ‹ Pritunl ç™»å…¥è³‡è¨Š
cat /Users/mike/Documents/self/interview-demo/vpn-server/docker/pritunl/FINAL-LOGIN.txt

## å•Ÿå‹•/åœæ­¢æœå‹™
```bash
cd /Users/mike/Documents/self/interview-demo/vpn-server/docker/pritunl

# å•Ÿå‹•
docker-compose up -d

# åœæ­¢
docker-compose down

# é‡å•Ÿ
docker-compose restart

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f pritunl
docker-compose logs -f dnsmasq
```

## æ·»åŠ æ›´å¤šåŸŸåè§£æ

ç·¨è¼¯ dnsmasq.conf:
```bash
nano /Users/mike/Documents/self/interview-demo/vpn-server/docker/pritunl/dnsmasq.conf

# æ·»åŠ æ–°åŸŸå
address=/your-domain.dev/1.2.3.4

# é‡å•Ÿ dnsmasq
docker-compose restart dnsmasq
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ æ•…éšœæ’é™¤

## DNS è§£æä¸å·¥ä½œ

1. æª¢æŸ¥ dnsmasq ç‹€æ…‹:
   ```bash
   docker logs pritunl-dns
   docker exec pritunl-dns nslookup test.dev 127.0.0.1
   ```

2. ç¢ºèª VPN å®¢æˆ¶ç«¯ä½¿ç”¨æ­£ç¢ºçš„ DNS:
   ```bash
   scutil --dns
   ```

3. æ¸¬è©¦å¾ Docker ç¶²çµ¡å…§è§£æ:
   ```bash
   docker run --rm --network pritunl_pritunl-network busybox nslookup test.dev 172.25.0.2
   ```

## VPN é€£æ¥å¤±æ•—

1. æª¢æŸ¥ Pritunl ç‹€æ…‹:
   ```bash
   docker logs pritunl --tail=50
   ```

2. ç¢ºèªç«¯å£é–‹æ”¾:
   ```bash
   netstat -an | grep 11009
   ```

3. æª¢æŸ¥é˜²ç«ç‰†è¨­å®š

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ å®Œæˆï¼

VPN Server å’Œ DNS è§£æå·²å®Œå…¨è¨­ç½®å®Œæˆã€‚
ç¾åœ¨å¯ä»¥ä½¿ç”¨æœ¬æ©Ÿæ¸¬è©¦é€£æ¥ï¼Œé©—è­‰ DNS è§£æåŠŸèƒ½ã€‚

ä¸‹ä¸€æ­¥ï¼š
1. ä½¿ç”¨ OpenVPN å®¢æˆ¶ç«¯é€£æ¥åˆ° VPN
2. æ¸¬è©¦ test.dev åŸŸåè§£æ
3. å¦‚éœ€é¡å¤–æ¸¬è©¦ï¼Œå¯ä½¿ç”¨å¦ä¸€å€‹è¨­å‚™é€£æ¥

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
